<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Realtor Call List</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous"
    />

    <title>Document</title>
  </head>
  <body>
    <tr data-id="1">
      <td>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            data-action="status-button"
            type="button"
            data-bs-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
            onClick="buttonFunc()"
          >
            Dropdown button
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="#" id="interested-contact">
              Interested in Contact Info
            </a>
            <a class="dropdown-item" href="#" id="PAL">
              Pre-Approval Requested
            </a>
            <a class="dropdown-item" href="#" id="SPA">SPA</a>
            <a class="dropdown-item" href="#" id="sent-LE">Sent LE</a>
            <a class="dropdown-item" href="#" id="i2p">Accepted I2P</a>
            <a class="dropdown-item" href="#" id="appraisal-complete">
              Appraisal Complete
            </a>
            <a class="dropdown-item" href="#" id="c2c">Clear to Close</a>
          </div>
        </div>
      </td>

      <td>
        <button
          type="button"
          class="btn btn-secondary"
          onClick="buttonFunc()"
          data-action="opt-out"
        >
          Request
        </button>
      </td>
    </tr>

    <script>
      const tableParent = document.getElementById('table-parent')

      tableParent.addEventListener('click', function (event) {
        // Check if the clicked element is a button with data-action="opt-out"
        if (
          event.target.tagName.toLowerCase() === 'button' &&
          event.target.getAttribute('data-action') === 'opt-out'
        ) {
          // Remove the "btn-secondary" class and add the "btn-danger" class
          event.target.classList.remove('btn-secondary')
          event.target.classList.add('btn-danger')

          // Change the text on the button
          event.target.textContent = 'Do Not Call'
        }
      })

      const dropdownMenu = document.querySelector('.dropdown-menu')

      dropdownMenu.addEventListener('click', function (event) {
        // Get the id of the selected dropdown menu item
        const selectedOptionId = event.target.getAttribute('id')

        // Log the selected option id
        console.log(selectedOptionId)
      })
    </script>
  </body>
</html>
